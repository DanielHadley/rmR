cat(sprintf("title: NYC Weekly \"%s\"\n", today))
cat(sprintf('title: NYC Weekly %s\n', today))
# Start writing to an output file
sink(paste("/Users/dphnrome/Documents/Git/ratmaps/_posts/test-", today,".md",sep=""))
cat("---\n")
cat("layout: post\n")
cat(sprintf('title: NYC Weekly %s\n', today))
cat("tags: NYC weekly\n")
cat("---\n")
cat("![_config.yml](http://googledrive.com/host/0BxOPuM_gK7bqUW85bjZUd1UwTGs/posts/NYC_Rat_Map_",today,".png\n")
# Stop writing to the file
sink()
# Start writing to an output file
sink(paste("/Users/dphnrome/Documents/Git/ratmaps/_posts/test-", today,".md",sep=""))
cat("---\n")
cat("layout: post\n")
cat(sprintf('title: NYC Weekly %s\n', today))
cat("tags: NYC weekly\n")
cat("---\n")
cat("\n")
cat(sprintf("![_config.yml](http://googledrive.com/host/0BxOPuM_gK7bqUW85bjZUd1UwTGs/posts/NYC_Rat_Map_%s.png\n", today))
# Stop writing to the file
sink()
todayUSA <- fromat(today, "%m"-"%d"-"%Y")
todayUSA <- format(today, "%m"-"%d"-"%Y")
todayUSA <- format(today, "%m-%d-%Y")
todayUSA <- format(today, %m-%d-%Y)
todayUSA <- format(today, "%m-%d-%Y")
todayUSA
todayUSA <- format(today, '%m-%d-%Y')
as.character(todayUSA)
today <- Sys.Date()
lastWeek <- today - 7
todayText <- format(today, "%b %d")
lastWeekText <- format(lastWeek, "%b %d")
Year <- format(today, "%Y")
todayUSA <- format(today, '%m-%d-%Y')
#### Start writing to an output file ####
# This makes the .md blog posts
sink(paste("/Users/dphnrome/Documents/Git/ratmaps/_posts/test-", todayUSA,".md",sep=""))
cat("---\n")
cat("layout: post\n")
cat(sprintf('title: NYC Weekly %s\n', today))
cat("tags: NYC weekly\n")
cat("---\n")
cat("\n")
cat(sprintf("![_config.yml](http://googledrive.com/host/0BxOPuM_gK7bqUW85bjZUd1UwTGs/posts/NYC_Rat_Map_%s.png\n", today))
cat("\n")
cat("Each red dot represents one call about a rat seen in that location. The dots are transparent, so multiple calls from one location will be seen as a solid dot. The usual caveats apply: more calls do not necessarily mean that there are more rats in that location than other parts of the city. A cluster of dots could indicate that one resident is unusually vocal about rodents in his or her neighborhood. Also, more densely populated neighborhoods tend to make more calls to 311.")
# Stop writing to the file
sink()
#### Start writing to an output file ####
# This makes the .md blog posts
sink(paste("/Users/dphnrome/Documents/Git/ratmaps/_posts/test-", today,".md",sep=""))
cat("---\n")
cat("layout: post\n")
cat(sprintf('title: NYC Weekly %s\n', todayUSA))
cat("tags: NYC weekly\n")
cat("---\n")
cat("\n")
cat(sprintf("![_config.yml](http://googledrive.com/host/0BxOPuM_gK7bqUW85bjZUd1UwTGs/posts/NYC_Rat_Map_%s.png\n", today))
cat("\n")
cat("Each red dot represents one call about a rat seen in that location. The dots are transparent, so multiple calls from one location will be seen as a solid dot. The usual caveats apply: more calls do not necessarily mean that there are more rats in that location than other parts of the city. A cluster of dots could indicate that one resident is unusually vocal about rodents in his or her neighborhood. Also, more densely populated neighborhoods tend to make more calls to 311.")
# Stop writing to the file
sink()
cat(sprintf("Between %s and %t , there were x calls", lastWeekText, todayText))
cat(sprintf("Between %s and %s , there were x calls", lastWeekText, todayText))
todayText
cat(sprintf("Between %s and %s , there were x calls", lastWeekText, todayText))
today <- Sys.Date()
lastWeek <- today - 7
todayText <- format(today, "%B %d")
lastWeekText <- format(lastWeek, "%B %d")
Year <- format(today, "%Y")
todayUSA <- format(today, '%m-%d-%Y')
cat(sprintf("Between %s and %s , there were x calls", lastWeekText, todayText))
setwd("/Users/dphnrome/Documents/Git/rmR/")
# setwd("C:/Users/dhadley/Documents/GitHub/rmR")
library(ggmap)
today <- Sys.Date()
lastWeek <- today - 7
todayText <- format(today, "%B %d")
lastWeekText <- format(lastWeek, "%B %d")
Year <- format(today, "%Y")
todayUSA <- format(today, '%m-%d-%Y')
## Plain Text:
# https://data.cityofnewyork.us/resource/erm2-nwe9.json?$where=descriptor='Rat Sighting'AND created_date > '2015-01-20'
## As URL (read.csv) can't do https, just http
#https://data.cityofnewyork.us/resource/erm2-nwe9.csv?$where=descriptor=%27Rat%20Sighting%27AND%20created_date%20%3E%20%272015-01-20%27
api <- paste("http://data.cityofnewyork.us/resource/erm2-nwe9.csv?$where=descriptor=%27Rat%20Sighting%27AND%20created_date%20%3E%20%27", lastWeek, "%27", sep="")
nyc <- read.csv(url(api))
d <- nyc
# Dot map
map.center <- geocode("New York City, NY")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 11, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 2, alpha = .7, bins = 26, color="red",)
ggsave(paste("/Users/dphnrome/Google Drive/RatMaps/posts/NYC_Rat_Map_",today,".png",sep=""), dpi=200, width=4, height=4)
totalCalls <- length(d)
totalCalls
View(d)
totalCalls <- nrow(d)
totalCalls
cat(sprintf("Between %s and %s, there were %s calls to New York City's 311 line about rats.\n", lastWeekText, todayText, totalCalls))
setwd ("~/Documents/Git/PCI_Code") #at home
d <- read.csv("PCI.csv")
# Create new variables
d$sq.ft <- d$PavementWi * d$Length # Sq. Feet
d$sq.yd <- d$sq.ft * 0.111111 # Sq. Yards
d$total.pci <- d$sq.yd * d$OCI # Sum PCI
d$ideal.pci <- d$sq.yd * 100 # Ideal sum PCI
d$delta.pci <- d$ideal.pci - d$total.pci #Difference
d$delta.over.cost <- d$delta.pci / d$ExtendedCo #One cost measure
aggregate(delta.over.cost ~ PlanActivi, d, mean ) # Crack Seal is crazy cost efficient
aggregate(delta.over.cost ~ PlanActivi, d, max ) # Crack Seal is crazy cost efficient
d$cost.per.sq.yd <- d$ExtendedCo / d$sq.yd # Cost per sq yard
#### Read Me ####
# This code analyzes data from FST, the City's pavement consultant
# It models the cost and PCI degredation in order to optimize pavement decisions
# OCI value = PCI.  Note these scores are from November 2012.
# Created By Daniel Hadley
library(tidyr)
library(dplyr)
library(ggplot2)
library(ggmap)
library(Rglpk)
ls
main <- d  %>%
#### Read Me ####
#SNOW!!
library(tidyr)
library(dplyr)
library(ggplot2)
library(ggmap)
library(Rglpk)
# http://stackoverflow.com/questions/15147398/optimize-value-with-linear-or-non-linear-constraints-in-r
# Import data ####
setwd("C:/Users/dhadley/Documents/GitHub/PCI_Code")
setwd ("~/Documents/Git/PCI_Code") #at home
d <- read.csv("PCI.csv")
# Create new variables ####
d$sq.ft <- d$PavementWi * d$Length # Sq. Feet
d$sq.yd <- d$sq.ft * 0.111111 # Sq. Yards
View(d)
d$Functional
Arterials <- d %>%
filter(Functional == "AR - Arterial") # drop the streets with no plan activity
View(Arterials)
Arterials <- d %>%
filter(Functional == "AR - Arterial")  %>%
select(Functional, STREETNAME) %>%
group_by(STREETNAME) %>%
summarize(count=n())
View(Arterials)
View(Arterials)
Coll <- d %>%
filter(Functional == "CO - Collector")  %>%
select(Functional, STREETNAME) %>%
group_by(STREETNAME) %>%
summarize(count=n())
View(Coll)
d$Functional
View(Arterials)
names(D)
Narrow <- d %>%
filter(PavementWi < 15)
Narrow <- d %>%
filter(PavementWi < 20)
View(Narrow)
Narrow <- d %>%
filter(PavementWi < 20) %>%
select(Functional, STREETNAME) %>%
group_by(STREETNAME) %>%
summarize(count=n())
View(Narrow)
Arterials <- d %>%
filter(Functional == "AR - Arterial")
hist(Arterials$PavementWi)
Arterials <- d %>%
filter(Functional == "AR - Arterial")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n())
Coll <- d %>%
filter(Functional == "CO - Collector")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n())
View(Coll)
Coll <- d %>%
filter(Functional == "CO - Collector")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length))
View(Coll)
Arterials <- d %>%
filter(Functional == "AR - Arterial")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length))
Coll <- d %>%
filter(Functional == "CO - Collector")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length))
Arterials <- d %>%
filter(Functional == "AR - Arterial")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length)) %>%
reorder(Length)
Coll <- d %>%
filter(Functional == "CO - Collector")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length)) %>%
reorder(Length)
Arterials <- d %>%
filter(Functional == "AR - Arterial")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length))
Arterials <- d %>%
filter(Functional == "AR - Arterial")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length)) %>%
reorder(Length)
View(Arterials)
Arterials <- d %>%
filter(Functional == "AR - Arterial")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length)) %>%
reorder(length)
Coll <- d %>%
filter(Functional == "CO - Collector")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length)) %>%
reorder(length)
Arterials <- d %>%
filter(Functional == "AR - Arterial")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length)) %>%
reorder(length)
Arterials <- d %>%
filter(Functional == "AR - Arterial")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length)) %>%
arrange(length)
Coll <- d %>%
filter(Functional == "CO - Collector")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length)) %>%
arrange(length)
View(Arterials)
Arterials <- d %>%
filter(Functional == "AR - Arterial")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length)) %>%
arrange(-length)
Coll <- d %>%
filter(Functional == "CO - Collector")  %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length)) %>%
arrange(-length)
View(Arterials)
View(Coll)
View(Arterials)
View(Coll)
d$Functional
all <- d %>%
select(Functional, STREETNAME, Length) %>%
group_by(STREETNAME) %>%
summarize(count=n(), length=sum(Length)) %>%
arrange(-length)
View(all)
#### Read Me ####
# This code analyzes data from FST, the City's pavement consultant
# It models the cost and PCI degredation in order to optimize pavement decisions
# OCI value = PCI.  Note these scores are from November 2012.
# Created By Daniel Hadley
library(tidyr)
library(dplyr)
library(ggplot2)
library(ggmap)
library(Rglpk)
# http://stackoverflow.com/questions/15147398/optimize-value-with-linear-or-non-linear-constraints-in-r
# Import data ####
setwd("C:/Users/dhadley/Documents/GitHub/PCI_Code")
setwd ("~/Documents/Git/PCI_Code") #at home
d <- read.csv("PCI.csv")
# Create new variables ####
d$sq.ft <- d$PavementWi * d$Length # Sq. Feet
d$sq.yd <- d$sq.ft * 0.111111 # Sq. Yards
sum(d$sq.ft)
miles <- sum(d$PavementWi) * 0.000189394
miles <- (sum(d$PavementWi)) * 0.000189394
sum(d$Length)
miles <- (sum(d$Length)) * 0.000189394
View(d)
setwd("/Users/dphnrome/Documents/Git/rmR/oneOffScripts/")
# setwd("C:/Users/dhadley/Documents/GitHub/rmR")
library(lubridate)
library(tidyr)
library(dplyr)
library(broom) # augments d with model variables
library(ggplot2)
library(ggmap)
c <- read.csv("../data/SanFrancisco_rats.csv")
View(c)
d <- read.csv("../data/SanFrancisco_rats.csv")
View(d)
# Prepare to create x, y
d$Loc <- gsub("\\(", "", d$Point)
d$Loc <- gsub("\\)", "", d$Loc)
View(d)
d <- d %>%
tbl_df()  %>% # Convert to tbl class - easier to examine than dfs
separate(Loc, c("y", "x"), ",") %>%
mutate(x = as.numeric(x), y = as.numeric(y),
order = seq(1, nrow(d)))
View(d)
#### Dot maps ####
map.center <- geocode("San Francisco")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 11, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = .5, alpha = .2, bins = 26, color="red",)
d <- d %>%
tbl_df()  %>% # Convert to tbl class - easier to examine than dfs
separate(Loc, c("Latitude", "Longitude"), ",") %>%
mutate(x = as.numeric(x), y = as.numeric(y),
order = seq(1, nrow(d)))
d <- d %>%
tbl_df()  %>% # Convert to tbl class - easier to examine than dfs
separate(Loc, c("y", "x"), ",") %>%
mutate(Longitude = as.numeric(x), Latitude = as.numeric(y),
order = seq(1, nrow(d)))
d <- read.csv("../data/SanFrancisco_rats.csv")
# Prepare to create x, y
d$Loc <- gsub("\\(", "", d$Point)
d$Loc <- gsub("\\)", "", d$Loc)
d <- d %>%
tbl_df()  %>% # Convert to tbl class - easier to examine than dfs
separate(Loc, c("y", "x"), ",") %>%
mutate(Longitude = as.numeric(x), Latitude = as.numeric(y),
order = seq(1, nrow(d)))
View(d)
#### Dot maps ####
map.center <- geocode("San Francisco")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 11, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = .5, alpha = .2, bins = 26, color="red",)
#### Dot maps ####
map.center <- geocode("San Francisco")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 14, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = .5, alpha = .2, bins = 26, color="red",)
#### Dot maps ####
map.center <- geocode("San Francisco")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = .5, alpha = .2, bins = 26, color="red",)
#### Dot maps ####
map.center <- geocode("San Francisco")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 2, alpha = .8, bins = 26, color="red",)
ggsave(paste("../plots/San_Francisco_Rat_Map_all.png",sep=""), dpi=200, width=4, height=4)
getwd()
ggsave(paste("../plots/San_Francisco_Rat_Map_all.png",sep=""), dpi=200, width=4, height=4)
#### Dot maps ####
map.center <- geocode("San Francisco")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 2, alpha = .5, bins = 26, color="red",)
ggsave(paste("../plots/San_Francisco_Rat_Map_all.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Tenderloin, San Francisco")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 15, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 2, alpha = .5, bins = 26, color="red",)
ggsave(paste("../plots/San_Francisco_Rat_Map_Tenderloin.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Tenderloin, San Francisco")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 15, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 3, alpha = .5, bins = 26, color="red",)
ggsave(paste("../plots/San_Francisco_Rat_Map_Tenderloin.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Mission District, San Francisco")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 15, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 3, alpha = .5, bins = 26, color="red",)
ggsave(paste("../plots/San_Francisco_Rat_Map_Mission.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Chinatown, San Francisco")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 15, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 3, alpha = .5, bins = 26, color="red",)
ggsave(paste("../plots/San_Francisco_Rat_Map_Chinatown.png",sep=""), dpi=200, width=4, height=4)
View(d)
setwd("/Users/dphnrome/Documents/Git/rmR/oneOffScripts/")
# setwd("C:/Users/dhadley/Documents/GitHub/rmR")
library(lubridate)
library(tidyr)
library(dplyr)
library(broom) # augments d with model variables
library(ggplot2)
library(ggmap)
c <- read.csv("../data/Chicago_rats.csv")
View(c)
#### Dot maps ####
map.center <- geocode("Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 11, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = .5, alpha = .2, bins = 26, color="red",)
d <- read.csv("../data/Chicago_rats.csv")
#### Dot maps ####
map.center <- geocode("Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 11, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = .5, alpha = .2, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_all.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Far North, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .3, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Far_North.png",sep=""), dpi=200, width=4, height=4)
#### Dot maps ####
map.center <- geocode("Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 11, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = .5, alpha = .2, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_all.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Far North, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .3, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Far_North.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Northwest Side, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .3, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Northwest.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("North Side, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .3, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_North.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("West Side, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .3, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_West.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Central, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .3, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Central.png",sep=""), dpi=200, width=4, height=4)
#### Dot maps ####
map.center <- geocode("Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 11, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = .5, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_all.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Far North, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Far_North.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Northwest Side, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Northwest.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("North Side, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_North.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("West Side, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_West.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Central, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Central.png",sep=""), dpi=200, width=4, height=4)
#### Dot maps ####
map.center <- geocode("Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 11, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = .5, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_all.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("North Park, Chicago, Il") #Far North
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Far_North.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Belmont Cragin, Chicago, Il") #Northwest Side
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Northwest.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Lake View, Chicago, Il") #North Side
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_North.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("East Garfield Park, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_West.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Near East Loop, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Central.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Near East Loop, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Central.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Hyde Park, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_South.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Gage Park, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Southwest.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("Beverly, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Far_Southwest.png",sep=""), dpi=200, width=4, height=4)
map.center <- geocode("South Deering, Chicago, Il")
SHmap <- qmap(c(lon=map.center$lon, lat=map.center$lat), source="google", zoom = 13, color='bw')
SHmap + geom_point(data=d, aes(y=Latitude, x=Longitude), size = 1, alpha = .1, bins = 26, color="red",)
ggsave(paste("../plots/Chicago_Rat_Map_Far_Southeast.png",sep=""), dpi=200, width=4, height=4)
